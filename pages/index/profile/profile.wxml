<!--pages/profile/profile.wxml-->
<view class="white-container">
  <view class="center">
    <view class="user-icon" style="background-image: url('{{currentUser.avatar}}')"></view>
    <view class="medium-txt">{{currentUser.nickname}}</view>
  </view>   
</view>

<view class="grey-container">  
  <block wx:if="{{canIUseGetUserProfile && hasUserInfo && currentUser}}">
    <view wx:if="{{favourite}}">
      <view class="empty-container">
        <view class="sub-title playfair">Your Favorite Dogs</view>
        <view class="card-flexbox">
          <block wx:for="{{dogs}}" wx:key="key" wx:for-item="dog">
        <view class="card">
          <view class="card-image" style="background-image: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.3)), url('{{dog.image[0].path}}')">
            <view class="dog-age-gender">{{dog.age}} â€¢ {{dog.gender}}</view>
          </view>
          <view class="mini-flex">
            <view class="do-not-delete-me"></view>
            <view class="dog-name-yellow playfair">{{dog.name}}</view>
          </view>
        </view>
          </block>
        </view>
      </view>
    </view>
    <view wx:else>
      <view class="empty-container">
        <image class="empty-img" src="/images/empty.svg"></image> 
        <view class="empty-title bold playfair center-txt">You don't have favorites yet</view>
        <view class="small-txt grey-txt center-txt">Browse the dogs and add them to your favourites by clicking the "like" button</view>
        <view class="btn yellow playfair center" style="width: 130rpx;" bindtap="navigateToDogs">see dogs</view>
      </view>
  </view> 
  </block>
  <block wx:else>
    <view class="empty-container">
      <image class="empty-img" src="/images/empty.svg"></image> 
        <view class="empty-title bold playfair center-txt">Oops!</view>
        <view class="small-txt grey-txt center-txt center-txt">Looks like you haven't logged in yet. Log in to save dogs to favourites & contact us about fostering/adoption</view>
        <button wx:if="{{canIUseGetUserProfile && !hasUserInfo}}" bindtap="getUserProfile" class="round-button yellow playfair" style="width: 250rpx; margin-top: 50rpx;"> log in </button>
         <button wx:else open-type="getUserInfo" bindgetuserinfo="getUserInfo" class="round-button yellow playfair" style="width: 250rpx; margin-top: 50rpx;"> log in </button>
    </view>
  </block>
  
  <!-- Donate  -->
  <!-- <view class="wide-card card-donation-yellow">
      <view>
        <view class="donation-title playfair bold">Donate and save lives!</view>
      </view>
      <view>
        <button class="round-button white playfair" style="width: 200rpx;">donate</button>
      </view>
  </view> -->

  <!-- Success Stories -->
 <view class="sub-title playfair bold">Success Stories</view>
  <view class="wide-card card-img-bg" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(https://images.unsplash.com/photo-1601758124331-9410bf99002f?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDh8fGRvZyUyMGxvdmV8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60) ">
    <view>
      <view class="white-txt playfair bold">Olivia & Almond</view>
      <view class="white-txt smaller-txt">A love story</view>
    </view>
    <image mode="widthFix" class="icon-btn" src="https://cloud-minapp-39668.cloud.ifanrusercontent.com/1lXp4FViufPrbFv3.svg"></image>
  </view>

  <!-- About Us -->
  <!-- <view class="wide-card card-about-white">
      <view>
        <view class="about-us-title playfair bold">About us</view>
        <view class="about-us-text">We are The Haven Shelter in Anhui province, and we have over 200 dogs.</view>
        <button class="round-button yellow playfair" style="width: 250rpx;">learn more</button>
      </view>
      <view>
        <view class="image-dog-about" style="background-image: url('https://cloud-minapp-39668.cloud.ifanrusercontent.com/1lXbicGexLnQ6Ora.svg')"></view>
      </view>
  </view> -->
</view>
<view class="container">
 <CustomTab />
</view>
